setwd("C:/Users/EILEEN/Desktop/Programación Actuarial lll/Programacion_Actuarial_lll_OT16/specdata")
#directorio <- vector("character",1)
#contaminante <- vector("character",1)
#id <- vector("integer")
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
suma <- 0
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
medias <- mean(z,na.rm=TRUE)
suma <- suma + medias
}
result <- suma/length(id)
result
}
mediacontaminante("specdata","sulfate")
mediacontaminante("specdata","sulfate",150)
setwd("C:/Users/EILEEN/Desktop/Programación Actuarial lll/Programacion_Actuarial_lll_OT16/specdata")
completos <- function(directorio,id=1:332){
id2 <- vector("character")
data <- data.frame(id="",nobs="")
cont <- 0
x2 <- ""
x3 <- ""
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,2:3])
todos <- complete.cases(z)
x <- z[todos,]
x1 <- nrow(x)
if (cont==0){
x2 <- i
x3 <- x1
}
else { if (cont>0){
x2 <- c(a,i)
x3 <- c(b,x1)
}}
cont <- cont+1
a <- x2
b <- x3
}
data <- data.frame(id=x2,nobs=x3)
data
}
completos("specdata", 1:15)
completos("specdata")
setwd("C:/Users/EILEEN/Desktop/Programación Actuarial lll/Programacion_Actuarial_lll_OT16/specdata")
corr <- function(directorio,horizonte=0){
id2 <- vector("character")
result <- vector("numeric")
x2 <- data.frame()
for (i in 1:332){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,2:3])
todos <- complete.cases(z)
x <- z[todos,]
x1 <- nrow(x)
if (x1>=horizonte){x2 <- rbind(x2,x) }
}
result=cor(x2)
result
}
corr("specdata",2000)
corr("specdata",568)
setwd("C:/Users/EILEEN/Desktop/Programación Actuarial lll/Programacion_Actuarial_lll_OT16/specdata")
completos <- function(directorio,id=1:332){
id2 <- vector("character")
data <- data.frame()
cont <- 0
x2 <- ""
x3 <- ""
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,2:3])
todos <- complete.cases(z)
x <- z[todos,]
x1 <- nrow(x)
x2 <- cbind(data,i)
x3 <- cbind(data,x1)
}
data <- data.frame(id=x2,nobs=x3)
data
}
completos("specdata")
setwd("C:/Users/EILEEN/Desktop/Programación Actuarial lll/Programacion_Actuarial_lll_OT16/specdata")
completos <- function(directorio,id=1:332){
id2 <- vector("character")
data <- data.frame()
cont <- 0
x2 <- data.frame()
x3 <- data.frame()
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,2:3])
todos <- complete.cases(z)
x <- z[todos,]
x1 <- nrow(x)
x2 <- cbind(data,i)
x3 <- cbind(data,x1)
}
data <- data.frame(id=x2,nobs=x3)
data
}
completos("specdata")
setwd("C:/Users/EILEEN/Desktop/Programación Actuarial lll/Programacion_Actuarial_lll_OT16/specdata")
completos <- function(directorio,id=1:332){
id2 <- vector("character")
data <- data.frame()
cont <- 0
x2 <- data.frame()
x3 <- data.frame()
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,2:3])
todos <- complete.cases(z)
x <- z[todos,]
x1 <- nrow(x)
x2 <- rbind(data,i)
x3 <- rbind(data,x1)
}
data <- data.frame(id=x2,nobs=x3)
data
}
completos("specdata")
